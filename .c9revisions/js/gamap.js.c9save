{"ts":1357302315520,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var Map=\r\n{\r\n\tmapDiv:\"currentMap\",\r\n\tmapSize:{x:336,y:240},\r\n\tareas:{},\r\n\tmapPos:{},\r\n\tplayerPos:{},\r\n\titemPos:{},\r\n\tdebug:true,\r\n\tloadingArea:false,\r\n\tinitialized:false,\r\n\tediting:false,\r\n\tnumTeleports:0,\r\n\tinit:function(data)\r\n\t{\r\n\t\tvar itemsArea=[];\r\n\t\tthis.initialized=true;\r\n\t\t\r\n\t\t//are we in edition mode?\r\n\t\tif(typeof Editor !='undefined'){\r\n\t\t\tif(Editor.initialized){this.editing=true;}\r\n\t\t}\r\n\t\t\r\n\t\t// data check\r\n\t\t\tif(typeof data.areas =='undefined'){\r\n\t\t\t\talert('Missing map areas. [Areas not found]');Map.abort();return false;\r\n\t\t\t}\r\n\t\t//--\r\n\t\t\r\n\t\t//saved game?\r\n\t\tif(typeof data['playerPos'] !='undefined'){\r\n\t\t\tif(typeof data.areas['area'+data.playerPos.area] !='undefined'){\r\n\t\t\t\titemsArea=data.areas['area'+data.playerPos.area];\r\n\t\t\t\tMap.movePlayer(data.playerPos.x,data.playerPos.y);\r\n\t\t\t}else{\r\n\t\t\t\talert('Missing map areas or invalid save game. [player area not found]');\r\n\t\t\t\tMap.abort();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(typeof data.areas['area0'] !='undefined'){\r\n\t\t\t\titemsArea=data.areas['area0'];\r\n\t\t\t}else{\r\n\t\t\t\talert('Missing map areas. [Area0 not found]');\r\n\t\t\t\tMap.abort();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif($('#'+this.mapDiv).length<1){\r\n\t\t\t$('body').prepend('<div id=\"'+this.mapDiv+'\" class=\"map\"></div>');\r\n\t\t}else{ //we collect current map info\r\n\t\t\tthis.mapSize.x=parseFloat($('#'+this.mapDiv).css('width').replace(/[^-\\d\\.]/g, ''));\r\n\t\t\tthis.mapSize.y=parseFloat($('#'+this.mapDiv).css('height').replace(/[^-\\d\\.]/g, ''));\r\n\t\t}\r\n\t\t\r\n\t\tMap.areas=data.areas;\r\n\t\tMap.addItems(itemsArea);\r\n\r\n\t\tdocument.onkeydown = this.movePlayer;\r\n\t\t/*$(document).keypress(function(event) //didnt catch game keys \r\n\t\t{\r\n\t\t\tMap.movePlayer(event.which);\r\n\t\t});*/\r\n\t\t\r\n\t\t//search the teleport again (0% optimization lol, this sucks)\r\n\t\tfor(k in Map.areas)\r\n\t\t{\r\n\t\t\tfor(o in Map.areas[k])\r\n\t\t\t{\t\r\n\t\t\t\tvar preObj=Map.areas[k][o],\r\n\t\t\t\t\tobj=Item.info(preObj.name);\r\n\t\t\t\tif(obj.type=='teleport')\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.numTeleports++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t},\r\n\tchangeArea:function(teleportId)\r\n\t{\r\n\t\tif(typeof teleportId =='undefined'){return false;}\r\n\t\t\r\n\t\tthis.loadingArea=true;\r\n\t\tvar found=false;\r\n\t\t\r\n\t\t//search the teleport again (0% optimization lol, this sucks)\r\n\t\tfor(k in Map.areas)\r\n\t\t{\r\n\t\t\tfor(o in Map.areas[k])\r\n\t\t\t{\t\r\n\t\t\t\tvar preObj=Map.areas[k][o],\r\n\t\t\t\t\tobj=Item.info(preObj.name);\r\n\t\t\t\tif(obj.type=='teleport' && preObj.id==parseInt(teleportId))\r\n\t\t\t\t{\r\n\t\t\t\t\tvar area=k;\r\n\t\t\t\t\tfound=true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(found){break;}\r\n\t\t}\r\n\t\tif(this.debug){console.log(\"Using teleport \"+teleportId+\" to \"+area);}\r\n\t\t\r\n\t\t$('#'+this.mapDiv+' item').remove(); //unload items\r\n\t\tthis.killPlayer(); //to respawn it in addItems\r\n\t\t\r\n\t\tthis.addItems(this.areas[area]);\r\n\t\tthis.movePlayer(preObj.x,preObj.y);\r\n\t\tthis.loadingArea=false;\r\n\t\t\r\n\t\tif($('#myPlayer').length<1 && !this.editing){\r\n\t\t\talert(\"ERROR: This area [\"+area+\"] doesn't have any spawn point\");Map.abort();return false;\r\n\t\t}\r\n\t\t\r\n\t\t/* Should we change player pos?\r\n\t\tif(this.mapPos.x==x){\r\n\t\t\tvar playerY=0;\r\n\t\t\tif(this.mapPos.y<y){\r\n\t\t\t\tplayerY=this.mapSize.y-20;\r\n\t\t\t}\r\n\t\t\tthis.movePlayer(this.playerPos.x,playerY);\r\n\t\t}else if(this.mapPos.y==y){\r\n\t\t\tvar playerX=0;\r\n\t\t\tif(this.mapPos.x<x){\r\n\t\t\t\tplayerX=this.mapSize.x;\r\n\t\t\t}\r\n\t\t\tthis.movePlayer(playerX,this.playerPos.y);\r\n\t\t} \r\n\t\tthis.mapPos.x=x;\r\n\t\tthis.mapPos.y=y;\r\n\t\t$('#'+this.mapDiv).css('background-position',x+'px '+y+'px');\r\n\t\t*/\r\n\t\t\r\n\t},\r\n\tmovePlayer:function(key,y)\r\n\t{\r\n\t\t//setup player\r\n\t\tif($('#myPlayer').length<1){\r\n\t\t\tMap.addPlayer();\r\n\t\t}\r\n\t\t\r\n\t\tvar avatar='Down';\r\n\t\tif(typeof y =='undefined')\r\n\t\t{\r\n\t\t\t\r\n\t   \t\tvar tecla = (window.event) ? event.keyCode : key.keyCode,\r\n\t\t\t\tpixels=0,\r\n\t\t\t\tproperty='',\r\n\t\t\t\tnegative=false;\r\n\t\t\tswitch(tecla){\r\n\t\t\t\tcase 83: //avall\r\n\t\t\t\tcase 40:\r\n\t\t\t\t\tproperty='top';\r\n\t\t\t\t\tavatar='Down';\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 87: //adalt\r\n\t\t\t\tcase 38:\r\n\t\t\t\t\tproperty='top';\r\n\t\t\t\t\tnegative=true;\r\n\t\t\t\t\tavatar='Up';\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 68: //dreta\r\n\t\t\t\tcase 39:\r\n\t\t\t\t\tproperty='left';\r\n\t\t\t\t\tavatar='Right';\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 65://esquerra\r\n\t\t\t\tcase 37:\r\n\t\t\t\t\tproperty='left';\r\n\t\t\t\t\tnegative=true;\r\n\t\t\t\t\tavatar='Left';\r\n\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tMap.hotKeys(tecla);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpixels=$('#myPlayer img').css(property).replace(/[^-\\d\\.]/g, '');\r\n\t\t\tif(pixels==\"auto\" || pixels==\"\"){\r\n\t\t\t\tpixels=0;\r\n\t\t\t}else{\r\n\t\t\t\tif(negative){\r\n\t\t\t\t\tpixels=parseFloat(pixels)-10;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tpixels=parseFloat(pixels)+10;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// check if i can do following step\r\n\t\t\tvar i=0,lastI=0;\r\n\t\t\tif(property=='left'){\r\n\t\t\t\ti=Map.playerPos.x;\r\n\t\t\t}else{\r\n\t\t\t\ti=Map.playerPos.y;\r\n\t\t\t}\r\n\t\t\tlastI=i;\r\n\t\t\twhile(true)\r\n\t\t\t{\r\n\t\t\t\t$('#myPlayer img').css(property,i+'px');\r\n\t\t\t\tvar collisions=$(\"#myPlayer img\").collision('item[type!=walk]');\r\n\t\t\t\tif(collisions.length>0)// collision detected, checking item type\r\n\t\t\t\t{\r\n\t\t\t\t\tvar itm=collisions[0],\r\n\t\t\t\t\t\tname=$(itm).attr('name');\r\n\t\t\t\t\t//console.log(items[itm]);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(items[name].type=='solid'){\r\n\t\t\t\t\t\t//console.log(pixels,lastI,property,Map.playerPos.x,Map.playerPos.y);\r\n\t\t\t\t\t\t$('#myPlayer img').css(property,lastI+'px');\r\n\t\t\t\t\t\tif(property=='left'){\r\n\t\t\t\t\t\t\tMap.playerPos.x=lastI;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tMap.playerPos.y=lastI;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('cant');return false;\r\n\t\t\t\t\t}else if(items[name].type=='teleport'){\r\n\t\t\t\t\t\tvar to=$(itm).attr('to');\r\n\t\t\t\t\t\tMap.changeArea(to);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif(i==pixels){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tlastI=i;\r\n\t\t\t\tif(i>pixels){\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}else{\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//$('#myPlayer img').css(property,pixels+'px');\r\n\t\t\t\r\n\t\t\t/* Update playerPos*/\r\n\t\t\tif(property=='left'){\r\n\t\t\t\tMap.playerPos.x=pixels;\r\n\t\t\t}else{\r\n\t\t\t\tMap.playerPos.y=pixels;\r\n\t\t\t}\r\n\r\n\t\t}else{\r\n\t\t\tconsole.log('moving player pos ('+key+','+y+')');\r\n\t\t\t$('#myPlayer img').css('top',y);\r\n\t\t\t$('#myPlayer img').css('left',key);\r\n\t\t\t\r\n\t\t\t/* Update playerPos*/\r\n\t\t\tthis.playerPos.y=y;\r\n\t\t\tthis.playerPos.x=key;\r\n\t\t}\r\n\t\t\r\n\t\t$('#myPlayer img').attr('src','images/avatars/0'+avatar+'.png');\r\n\t},\r\n\taddItem:function(obj)\r\n\t{\r\n\t\tif(typeof this.itemPos[obj.x] =='undefined'){\r\n\t\t\tthis.itemPos[obj.x]={};\r\n\t\t}\r\n\t\tthis.itemPos[obj.x][obj.y]=obj.name;\r\n\t\tvar sprite='',\r\n\t\t\tteleport='',\r\n\t\t\tprepend=false,\r\n\t\t\ttext='';\r\n\t\t\r\n\t\t//check if object is set\r\n\t\tif(typeof items[obj.name] =='undefined'){\r\n\t\t\talert('no data found for object: '+obj.name);\r\n\t\t\tMap.abort();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif(typeof items[obj.name].sprite !='undefined'){\r\n\t\t\tsprite=items[obj.name].sprite;\r\n\t\t}\r\n\t\t\r\n\t\t//Spawn point? teleport point?\r\n\t\tif(items[obj.name].type=='spawn' && $('#myPlayer').length<1 && !this.editing){\r\n\t\t\tthis.movePlayer(obj.x,obj.y);\r\n\t\t}\r\n\t\telse if(items[obj.name].type=='teleport')\r\n\t\t{\t\r\n\t\t\tif(typeof obj.id =='undefined'){\r\n\t\t\t\tthis.numTeleports++;\r\n\t\t\t\tobj.id=this.numTeleports;\r\n\t\t\t}\r\n\t\t\tteleport='teleportid=\"'+obj.id+'\" ';\r\n\t\t\tif(typeof obj.to =='undefined'){\r\n\t\t\t\tif(!this.editing){\r\n\t\t\t\t\talert('Teleport with no destination/id found, mapping stopped.');\r\n\t\t\t\t\tMap.abort();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tteleport+='to=\"'+obj.to+'\"';\r\n\t\t\t}\r\n\t\t\tif(this.editing){//show teleport id in map\r\n\t\t\t\ttext=obj.id;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}else if(items[obj.name].type=='walk'){\r\n\t\t\tprepend=true;\r\n\t\t}\r\n\t\t//--\r\n\t\t\r\n\t\tvar itemLine='<item class=\"'+sprite+' '+obj.name+'\" '+teleport+' name=\"'+obj.name+'\" type=\"'+items[obj.name].type+'\" style=\"position:absolute;left:'+obj.x+'px;top:'+obj.y+'px;\">'+text+'</item>';\r\n\t\t\r\n\t\tif(prepend){\r\n\t\t\t$('#currentMap').prepend(itemLine);\r\n\t\t}else{\r\n\t\t\t$('#currentMap').append(itemLine);\r\n\t\t}\r\n\t\t\r\n\t\tif(this.editing){\r\n\t\t\t$(\"#currentMap item\" ).draggable({ containment: \"#currentMap\", obstacle: \"item\", preventCollision: true });\r\n\t\t}\r\n\t},\r\n\taddItems:function(arr){\r\n\t\tfor(k in arr){\r\n\t\t\tthis.addItem(arr[k]);\r\n\t\t}\r\n\t},\r\n\thotKeys:function(key){\r\n\t\tswitch(key){\r\n\t\t\tcase 88: // X/M bag\r\n\t\t\tcase 77:\r\n\t\t\t\tif($('#gameMenu').length>0){\r\n\t\t\t\t\t$('#gameMenu').toggleClass('oculto');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar html='<div id=\"gameMenu\" style=\"margin-left:'+Map.mapSize.x+'px;float:left;border:1px solid;height:'+Map.mapSize.y+'px;width:120px;\"><ul>'+\r\n\t\t\t\t\t\t'<li>Op1</li>'+\r\n\t\t\t\t\t\t'<li>Op2</li>'+\r\n\t\t\t\t\t\t'<li>Op3</li>'+\r\n\t\t\t\t\t\t'<li>Op4</li>'+\r\n\t\t\t\t\t'</ul></div>';\r\n\t\t\t\t\t$('body').append(html);\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t\tcase 27: //ESC\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\tkillPlayer:function(){\r\n\t\t$('#myPlayer').remove();\t\r\n\t},\r\n\taddPlayer:function()\r\n\t{\r\n\t\tif($('#myPlayer').length<1){\r\n\t\t\tvar html='<div id=\"myPlayer\" class=\"player\">'+\r\n\t\t\t\t'<img style=\"z-index:2;position: absolute;\" src=\"images/avatars/0Down.png\"/>'+\r\n\t\t\t'</div>';\r\n\t\t\t$('#'+Map.mapDiv).prepend(html);\t\r\n\t\t}else{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\tabort:function(){\r\n\t\tif(!this.editing){\r\n\t\t\t$('#'+this.mapDiv).remove();\r\n\t\t}\r\n\t},\r\n\r\n}\r\nfunction isInteger(s) {\r\n  return (s.toString().search(/^-?[0-9]+$/) == 0);\r\n}"]],"start1":0,"start2":0,"length1":0,"length2":8781}]],"length":8781}
{"contributors":[],"silentsave":false,"ts":1357302327727,"patch":[[{"diffs":[[0,"Map="],[-1,"\r"],[0,"\n{"],[-1,"\r\n\t"],[1,"\n    "],[0,"mapD"]],"start1":4,"start2":4,"length1":14,"length2":15},{"diffs":[[0,"entMap\","],[-1,"\r"],[0,"\n\tmapSiz"]],"start1":27,"start2":27,"length1":17,"length2":16},{"diffs":[[0,",y:240},"],[-1,"\r"],[0,"\n\tareas:"]],"start1":51,"start2":51,"length1":17,"length2":16},{"diffs":[[0,"reas:{},"],[-1,"\r"],[0,"\n\tmapPos"]],"start1":62,"start2":62,"length1":17,"length2":16},{"diffs":[[0,"pPos:{},"],[-1,"\r"],[0,"\n\tplayer"]],"start1":74,"start2":74,"length1":17,"length2":16},{"diffs":[[0,"rPos:{},"],[-1,"\r"],[0,"\n\titemPo"]],"start1":89,"start2":89,"length1":17,"length2":16},{"diffs":[[0,"mPos:{},"],[-1,"\r"],[0,"\n\tdebug:"]],"start1":102,"start2":102,"length1":17,"length2":16},{"diffs":[[0,"ug:true,"],[-1,"\r"],[0,"\n\tloadin"]],"start1":115,"start2":115,"length1":17,"length2":16},{"diffs":[[0,"a:false,"],[-1,"\r"],[0,"\n\tinitia"]],"start1":135,"start2":135,"length1":17,"length2":16},{"diffs":[[0,"d:false,"],[-1,"\r"],[1,"\n\tmultiplayer:false,"],[0,"\n\teditin"]],"start1":155,"start2":155,"length1":17,"length2":36},{"diffs":[[0,"g:false,"],[-1,"\r"],[0,"\n\tnumTel"]],"start1":191,"start2":191,"length1":17,"length2":16},{"diffs":[[0,"ports:0,"],[-1,"\r"],[1,"\n\tuid:0,"],[0,"\n\tinit:f"]],"start1":208,"start2":208,"length1":17,"length2":24},{"diffs":[[0,"on(data)"],[-1,"\r"],[0,"\n\t{"],[-1,"\r"],[0,"\n\t\tvar i"]],"start1":237,"start2":237,"length1":21,"length2":19},{"diffs":[[0,"Area=[];"],[-1,"\r"],[0,"\n\t\tthis."]],"start1":260,"start2":260,"length1":17,"length2":16},{"diffs":[[0,"ed=true;"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\t//are"]],"start1":285,"start2":285,"length1":21,"length2":19},{"diffs":[[0,"on mode?"],[-1,"\r"],[0,"\n\t\tif(ty"]],"start1":316,"start2":316,"length1":17,"length2":16},{"diffs":[[0,"undefined'){"],[-1,"\r"],[0,"\n\t\t\tif(Edito"]],"start1":347,"start2":347,"length1":25,"length2":24},{"diffs":[[0,"g=true;}"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\t// da"]],"start1":397,"start2":397,"length1":26,"length2":23},{"diffs":[[0,"ta check"],[-1,"\r"],[0,"\n\t\t\tif(t"]],"start1":420,"start2":420,"length1":17,"length2":16},{"diffs":[[0,"undefined'){"],[-1,"\r"],[0,"\n\t\t\t\talert('"]],"start1":456,"start2":456,"length1":25,"length2":24},{"diffs":[[0,"lse;"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t//--"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\t/"]],"start1":540,"start2":540,"length1":27,"length2":23},{"diffs":[[0,"ed game?"],[-1,"\r"],[0,"\n\t\tif(ty"]],"start1":567,"start2":567,"length1":17,"length2":16},{"diffs":[[0,"undefined'){"],[-1,"\r"],[0,"\n\t\t\tif(typeo"]],"start1":609,"start2":609,"length1":25,"length2":24},{"diffs":[[0," !='undefined'){"],[-1,"\r"],[0,"\n\t\t\t\titemsArea=d"]],"start1":673,"start2":673,"length1":33,"length2":32},{"diffs":[[0,"s.area];"],[-1,"\r"],[0,"\n\t\t\t\tMap"]],"start1":735,"start2":735,"length1":17,"length2":16},{"diffs":[[0,"ayerPos."],[1,"uid,data.playerPos."],[0,"x,data.p"]],"start1":770,"start2":770,"length1":16,"length2":35},{"diffs":[[0,"layerPos.y);"],[-1,"\r"],[0,"\n\t\t\t}else{\r\n"]],"start1":805,"start2":805,"length1":25,"length2":24},{"diffs":[[0,"os.y);\n\t\t\t}else{"],[-1,"\r"],[0,"\n\t\t\t\talert('Miss"]],"start1":811,"start2":811,"length1":33,"length2":32},{"diffs":[[0,"ea not found]');"],[-1,"\r"],[0,"\n\t\t\t\tMap.abort()"]],"start1":889,"start2":889,"length1":33,"length2":32},{"diffs":[[0,"\t\t\t\tMap.abort();"],[-1,"\r"],[0,"\n\t\t\t\treturn fals"]],"start1":906,"start2":906,"length1":33,"length2":32},{"diffs":[[0,"eturn false;"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t}else{\r\n\t"]],"start1":928,"start2":928,"length1":31,"length2":29},{"diffs":[[0,"\t\t}\n\t\t}else{"],[-1,"\r"],[0,"\n\t\t\tif(typeo"]],"start1":942,"start2":942,"length1":25,"length2":24},{"diffs":[[0,"undefined'){"],[-1,"\r"],[0,"\n\t\t\t\titemsAr"]],"start1":991,"start2":991,"length1":25,"length2":24},{"diffs":[[0,"area0'];"],[-1,"\r"],[0,"\n\t\t\t}els"]],"start1":1030,"start2":1030,"length1":17,"length2":16},{"diffs":[[0,"];\n\t\t\t}else{"],[-1,"\r"],[0,"\n\t\t\t\talert('"]],"start1":1036,"start2":1036,"length1":25,"length2":24},{"diffs":[[0,"ot found]');"],[-1,"\r"],[0,"\n\t\t\t\tMap.abo"]],"start1":1087,"start2":1087,"length1":25,"length2":24},{"diffs":[[0,"Map.abort();"],[-1,"\r"],[0,"\n\t\t\t\treturn "]],"start1":1104,"start2":1104,"length1":25,"length2":24},{"diffs":[[0,"n false;"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\tif($("]],"start1":1126,"start2":1126,"length1":32,"length2":28},{"diffs":[[0,").length<1){"],[-1,"\r"],[0,"\n\t\t\t$('body'"]],"start1":1169,"start2":1169,"length1":25,"length2":24},{"diffs":[[0,"/div>');"],[-1,"\r"],[0,"\n\t\t}else"]],"start1":1243,"start2":1243,"length1":17,"length2":16},{"diffs":[[0,"map info"],[-1,"\r"],[0,"\n\t\t\tthis"]],"start1":1282,"start2":1282,"length1":17,"length2":16},{"diffs":[[0,"g, ''));"],[-1,"\r"],[0,"\n\t\t\tthis"]],"start1":1370,"start2":1370,"length1":17,"length2":16},{"diffs":[[0,"g, ''));"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[1,"\n\t\tif(!this.multiplayer){\n\t\t\tthis.uid=0;\n\t\t\tthis.defaultPlayer(0);\n\t\t}else{\n\t\t\t//nodeJS\n\t\t}\n\t\t"],[0,"\n\t\tMap.a"]],"start1":1459,"start2":1459,"length1":26,"length2":117},{"diffs":[[0,"a.areas;"],[-1,"\r"],[0,"\n\t\tMap.a"]],"start1":1584,"start2":1584,"length1":17,"length2":16},{"diffs":[[0,"ea);"],[-1,"\r\n\r\n\t\tdocument.onkeydown = this.movePlayer;\r"],[1,"\n\t\t\t\t\t\t"],[0,"\n\t\t"],[-1,"/*"],[0,"$(do"]],"start1":1615,"start2":1615,"length1":57,"length2":18},{"diffs":[[0,".key"],[-1,"press"],[1,"down"],[0,"(fun"]],"start1":1640,"start2":1640,"length1":13,"length2":12},{"diffs":[[0,"on(e"],[-1,"vent) //didnt catch game keys \r\n\t\t{\r"],[1,"){"],[0,"\n\t\t\t"]],"start1":1655,"start2":1655,"length1":44,"length2":10},{"diffs":[[0,"yer("],[-1,"event.which"],[1,"Map.uid,e.keyCode"],[0,");"],[-1,"\r"],[0,"\n\t\t});"],[-1,"*/\r"],[1,"\n"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\t/"]],"start1":1676,"start2":1676,"length1":35,"length2":37},{"diffs":[[0,"mization"],[-1," lol, this"],[1,","],[0," sucks)"],[-1,"\r"],[0,"\n\t\tfor(k"]],"start1":1748,"start2":1748,"length1":34,"length2":24},{"diffs":[[0,"(k in Map.areas)"],[-1,"\r"],[0,"\n\t\t{"],[-1,"\r"],[0,"\n\t\t\tfor(o in Map"]],"start1":1770,"start2":1770,"length1":38,"length2":36},{"diffs":[[0,"ap.areas[k])"],[-1,"\r"],[0,"\n\t\t\t{\t"],[-1,"\r"],[0,"\n\t\t\t\tvar pre"]],"start1":1804,"start2":1804,"length1":32,"length2":30},{"diffs":[[0,"Map.areas[k][o],"],[-1,"\r"],[0,"\n\t\t\t\t\tobj=Item.i"]],"start1":1838,"start2":1838,"length1":33,"length2":32},{"diffs":[[0,"fo(preObj.name);"],[-1,"\r"],[0,"\n\t\t\t\tif(obj.type"]],"start1":1871,"start2":1871,"length1":33,"length2":32},{"diffs":[[0,"leport')"],[-1,"\r"],[0,"\n\t\t\t\t{"],[-1,"\r"],[0,"\n\t\t\t\t\tth"]],"start1":1908,"start2":1908,"length1":24,"length2":22},{"diffs":[[0,"s++;"],[-1,"\r"],[0,"\n\t\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t},"],[-1,"\r"],[0,"\n\tch"]],"start1":1944,"start2":1944,"length1":36,"length2":30},{"diffs":[[0,"eportId)"],[-1,"\r"],[0,"\n\t{"],[-1,"\r"],[0,"\n\t\tif(ty"]],"start1":1995,"start2":1995,"length1":21,"length2":19},{"diffs":[[0," false;}"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\tthis."]],"start1":2051,"start2":2051,"length1":21,"length2":19},{"diffs":[[0,"ea=true;"],[-1,"\r"],[0,"\n\t\tvar f"]],"start1":2079,"start2":2079,"length1":17,"length2":16},{"diffs":[[0,"d=false;"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\t//sea"]],"start1":2098,"start2":2098,"length1":21,"length2":19},{"diffs":[[0,"tion"],[-1," lol, this"],[1,","],[0," sucks)"],[-1,"\r"],[0,"\n\t\tf"]],"start1":2152,"start2":2152,"length1":26,"length2":16},{"diffs":[[0,"p.areas)"],[-1,"\r"],[0,"\n\t\t{"],[-1,"\r"],[0,"\n\t\t\tfor("]],"start1":2178,"start2":2178,"length1":22,"length2":20},{"diffs":[[0,"[k])"],[-1,"\r"],[0,"\n\t\t\t{\t"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":2212,"start2":2212,"length1":16,"length2":14},{"diffs":[[0,"s[k][o],"],[-1,"\r"],[0,"\n\t\t\t\t\tob"]],"start1":2246,"start2":2246,"length1":17,"length2":16},{"diffs":[[0,"reObj.name);"],[-1,"\r"],[0,"\n\t\t\t\tif(obj."]],"start1":2275,"start2":2275,"length1":25,"length2":24},{"diffs":[[0,"portId))"],[-1,"\r"],[0,"\n\t\t\t\t{"],[-1,"\r"],[0,"\n\t\t\t\t\tva"]],"start1":2343,"start2":2343,"length1":24,"length2":22},{"diffs":[[0," area=k;"],[-1,"\r"],[0,"\n\t\t\t\t\tfo"]],"start1":2366,"start2":2366,"length1":17,"length2":16},{"diffs":[[0,"\tfound=true;"],[-1,"\r"],[0,"\n\t\t\t\t\tbreak;"]],"start1":2379,"start2":2379,"length1":25,"length2":24},{"diffs":[[0,"\t\tbreak;"],[-1,"\r"],[0,"\n\t\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t\tif(f"]],"start1":2395,"start2":2395,"length1":30,"length2":27},{"diffs":[[0,"{break;}"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\tif(th"]],"start1":2427,"start2":2427,"length1":22,"length2":20},{"diffs":[[0,"+area);}"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\t$('#'"]],"start1":2504,"start2":2504,"length1":21,"length2":19},{"diffs":[[0,"ad items"],[-1,"\r"],[0,"\n\t\tthis."]],"start1":2561,"start2":2561,"length1":17,"length2":16},{"diffs":[[0,"lPlayer("],[1,"this.uid"],[0,"); //to "]],"start1":2580,"start2":2580,"length1":16,"length2":24},{"diffs":[[0,"addItems"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\tthis."]],"start1":2618,"start2":2618,"length1":21,"length2":19},{"diffs":[[0,"[area]);"],[-1,"\r"],[0,"\n\t\tthis."]],"start1":2656,"start2":2656,"length1":17,"length2":16},{"diffs":[[0,"ePlayer("],[1,"this.uid,"],[0,"preObj.x"]],"start1":2675,"start2":2675,"length1":16,"length2":25},{"diffs":[[0,"eObj.y);"],[-1,"\r"],[0,"\n\t\tthis."]],"start1":2703,"start2":2703,"length1":17,"length2":16},{"diffs":[[0,"a=false;"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\tif($("]],"start1":2729,"start2":2729,"length1":21,"length2":19},{"diffs":[[0,"\t\t\n\t\tif($('#"],[-1,"myP"],[1,"p"],[0,"layer'"],[1,"+this.uid"],[0,").length<1 &"]],"start1":2738,"start2":2738,"length1":33,"length2":40},{"diffs":[[0,"is.editing){"],[-1,"\r"],[0,"\n\t\t\talert(\"E"]],"start1":2783,"start2":2783,"length1":25,"length2":24},{"diffs":[[0,"n false;"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\t/* Sh"]],"start1":2882,"start2":2882,"length1":26,"length2":23},{"diffs":[[0,"yer pos?"],[-1,"\r"],[0,"\n\t\tif(th"]],"start1":2923,"start2":2923,"length1":17,"length2":16},{"diffs":[[0,"s.x==x){"],[-1,"\r"],[0,"\n\t\t\tvar "]],"start1":2947,"start2":2947,"length1":17,"length2":16},{"diffs":[[0,"ayerY=0;"],[-1,"\r"],[0,"\n\t\t\tif(t"]],"start1":2965,"start2":2965,"length1":17,"length2":16},{"diffs":[[0,"os.y<y){"],[-1,"\r"],[0,"\n\t\t\t\tpla"]],"start1":2989,"start2":2989,"length1":17,"length2":16},{"diffs":[[0,"ze.y-20;"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t\tthis"]],"start1":3020,"start2":3020,"length1":23,"length2":21},{"diffs":[[0,"layerY);"],[-1,"\r"],[0,"\n\t\t}else"]],"start1":3071,"start2":3071,"length1":17,"length2":16},{"diffs":[[0,"s.y==y){"],[-1,"\r"],[0,"\n\t\t\tvar "]],"start1":3101,"start2":3101,"length1":17,"length2":16},{"diffs":[[0,"ayerX=0;"],[-1,"\r"],[0,"\n\t\t\tif(t"]],"start1":3119,"start2":3119,"length1":17,"length2":16},{"diffs":[[0,"os.x<x){"],[-1,"\r"],[0,"\n\t\t\t\tpla"]],"start1":3143,"start2":3143,"length1":17,"length2":16},{"diffs":[[0,"pSize.x;"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t\tthis"]],"start1":3171,"start2":3171,"length1":23,"length2":21},{"diffs":[[0,".y);"],[-1,"\r"],[0,"\n\t\t} "],[-1,"\r"],[0,"\n\t\tt"]],"start1":3226,"start2":3226,"length1":15,"length2":13},{"diffs":[[0,"Pos.x=x;"],[-1,"\r"],[0,"\n\t\tthis."]],"start1":3246,"start2":3246,"length1":17,"length2":16},{"diffs":[[0,"Pos.y=y;"],[-1,"\r"],[0,"\n\t\t$('#'"]],"start1":3265,"start2":3265,"length1":17,"length2":16},{"diffs":[[0,"x');"],[-1,"\r"],[0,"\n\t\t*/"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t},"],[-1,"\r"],[0,"\n\tmo"]],"start1":3333,"start2":3333,"length1":24,"length2":20},{"diffs":[[0,"ion("],[1,"uid,"],[0,"key,y)"],[-1,"\r"],[0,"\n\t{"],[-1,"\r"],[0,"\n\t\t/"]],"start1":3367,"start2":3367,"length1":19,"length2":21},{"diffs":[[0,"p player"],[-1,"\r"],[0,"\n\t\tif($("]],"start1":3393,"start2":3393,"length1":17,"length2":16},{"diffs":[[0,"er\n\t\tif($('#"],[-1,"myP"],[1,"p"],[0,"layer'"],[1,"+uid"],[0,").length<1){"]],"start1":3399,"start2":3399,"length1":33,"length2":35},{"diffs":[[0,").length<1){"],[-1,"\r"],[0,"\n\t\t\tMap.addP"]],"start1":3422,"start2":3422,"length1":25,"length2":24},{"diffs":[[0,"dPlayer("],[1,"uid"],[0,");"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\tvar a"]],"start1":3444,"start2":3444,"length1":28,"length2":28},{"diffs":[[0,"avatar='"],[-1,"Down"],[1,"front"],[0,"';"],[-1,"\r"],[0,"\n\t\tif(ty"]],"start1":3471,"start2":3471,"length1":23,"length2":23},{"diffs":[[0,"ed')"],[-1,"\r"],[0,"\n\t\t{"],[-1,"\r"],[0,"\n\t\t\t"],[-1,"\r"],[0,"\n\t  "]],"start1":3511,"start2":3511,"length1":19,"length2":16},{"diffs":[[0,"var "],[-1,"tecla = (window.event) ? event.keyCode : key.keyCode,\r\n\t\t\t\t"],[0,"pixe"]],"start1":3530,"start2":3530,"length1":67,"length2":8},{"diffs":[[0,"ixels=0,"],[-1,"\r"],[0,"\n\t\t\t\tpro"]],"start1":3535,"start2":3535,"length1":17,"length2":16},{"diffs":[[0,"property='',"],[-1,"\r"],[0,"\n\t\t\t\tnegativ"]],"start1":3548,"start2":3548,"length1":25,"length2":24},{"diffs":[[0,"ative=false;"],[-1,"\r"],[0,"\n\t\t\tswitch(t"]],"start1":3568,"start2":3568,"length1":25,"length2":24},{"diffs":[[0,"tch("],[-1,"tecla"],[1,"key"],[0,"){"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":3587,"start2":3587,"length1":16,"length2":13},{"diffs":[[0," //avall"],[-1,"\r"],[0,"\n\t\t\t\tcas"]],"start1":3609,"start2":3609,"length1":17,"length2":16},{"diffs":[[0,"case 40:"],[-1,"\r"],[0,"\n\t\t\t\t\tpr"]],"start1":3622,"start2":3622,"length1":17,"length2":16},{"diffs":[[0,"perty='top';"],[-1,"\r"],[0,"\n\t\t\t\t\tavatar"]],"start1":3639,"start2":3639,"length1":25,"length2":24},{"diffs":[[0,"ar='"],[-1,"Down"],[1,"front"],[0,"';"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":3661,"start2":3661,"length1":15,"length2":15},{"diffs":[[0,"ont';\n\t\t\t\tbreak;"],[-1,"\r"],[0,"\n\t\t\t\tcase 87: //"]],"start1":3667,"start2":3667,"length1":33,"length2":32},{"diffs":[[0," //adalt"],[-1,"\r"],[0,"\n\t\t\t\tcas"]],"start1":3696,"start2":3696,"length1":17,"length2":16},{"diffs":[[0,"case 38:"],[-1,"\r"],[0,"\n\t\t\t\t\tpr"]],"start1":3709,"start2":3709,"length1":17,"length2":16},{"diffs":[[0,"y='top';"],[-1,"\r"],[0,"\n\t\t\t\t\tne"]],"start1":3730,"start2":3730,"length1":17,"length2":16},{"diffs":[[0,"\t\tnegative=true;"],[-1,"\r"],[0,"\n\t\t\t\t\tavatar='Up"]],"start1":3742,"start2":3742,"length1":33,"length2":32},{"diffs":[[0,"ar='"],[-1,"Up"],[1,"back"],[0,"';"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":3768,"start2":3768,"length1":13,"length2":14},{"diffs":[[0,"ack';\n\t\t\t\tbreak;"],[-1,"\r"],[0,"\n\t\t\t\tcase 68: //"]],"start1":3773,"start2":3773,"length1":33,"length2":32},{"diffs":[[0," //dreta"],[-1,"\r"],[0,"\n\t\t\t\tcas"]],"start1":3802,"start2":3802,"length1":17,"length2":16},{"diffs":[[0,"case 39:"],[-1,"\r"],[0,"\n\t\t\t\t\tpr"]],"start1":3815,"start2":3815,"length1":17,"length2":16},{"diffs":[[0,"erty='left';"],[-1,"\r"],[0,"\n\t\t\t\t\tavatar"]],"start1":3833,"start2":3833,"length1":25,"length2":24},{"diffs":[[0,"ar='"],[-1,"R"],[1,"r"],[0,"ight';"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":3855,"start2":3855,"length1":16,"length2":15},{"diffs":[[0,";\n\t\t\t\tbreak;"],[-1,"\r"],[0,"\n\t\t\t\tcase 65"]],"start1":3865,"start2":3865,"length1":25,"length2":24},{"diffs":[[0,"esquerra"],[-1,"\r"],[0,"\n\t\t\t\tcas"]],"start1":3892,"start2":3892,"length1":17,"length2":16},{"diffs":[[0,"case 37:"],[-1,"\r"],[0,"\n\t\t\t\t\tpr"]],"start1":3905,"start2":3905,"length1":17,"length2":16},{"diffs":[[0,"erty='left';"],[-1,"\r"],[0,"\n\t\t\t\t\tnegati"]],"start1":3923,"start2":3923,"length1":25,"length2":24},{"diffs":[[0,"ve=true;"],[-1,"\r"],[0,"\n\t\t\t\t\tav"]],"start1":3947,"start2":3947,"length1":17,"length2":16},{"diffs":[[0,"ar='"],[-1,"L"],[1,"l"],[0,"eft';"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":3965,"start2":3965,"length1":15,"length2":14},{"diffs":[[0,";\n\t\t\t\tbreak;"],[-1,"\r"],[0,"\n\t\t\t\tdefault"]],"start1":3974,"start2":3974,"length1":25,"length2":24},{"diffs":[[0,"default:"],[-1,"\r"],[0,"\n\t\t\t\t\tMa"]],"start1":3991,"start2":3991,"length1":17,"length2":16},{"diffs":[[0,"eys("],[-1,"tecla"],[1,"key"],[0,");"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":4013,"start2":4013,"length1":16,"length2":13},{"diffs":[[0,"eturn false;"],[-1,"\r"],[0,"\n\t\t\t\tbreak;\r"]],"start1":4029,"start2":4029,"length1":25,"length2":24},{"diffs":[[0,"\t\tbreak;"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t"],[-1,"\r"],[0,"\n\t\t\tpixe"]],"start1":4044,"start2":4044,"length1":28,"length2":25},{"diffs":[[0,"\tpixels=$('#"],[-1,"myP"],[1,"p"],[0,"layer"],[-1," img'"],[1,"'+uid"],[0,").css(proper"]],"start1":4064,"start2":4064,"length1":37,"length2":35},{"diffs":[[0,"/g, '');"],[-1,"\r"],[0,"\n\t\t\tif(p"]],"start1":4120,"start2":4120,"length1":17,"length2":16},{"diffs":[[0,"ls==\"\"){"],[-1,"\r"],[0,"\n\t\t\t\tpix"]],"start1":4157,"start2":4157,"length1":17,"length2":16},{"diffs":[[0,"ixels=0;"],[-1,"\r"],[0,"\n\t\t\t}els"]],"start1":4171,"start2":4171,"length1":17,"length2":16},{"diffs":[[0,"0;\n\t\t\t}else{"],[-1,"\r"],[0,"\n\t\t\t\tif(nega"]],"start1":4177,"start2":4177,"length1":25,"length2":24},{"diffs":[[0,"gative){"],[-1,"\r"],[0,"\n\t\t\t\t\tpi"]],"start1":4199,"start2":4199,"length1":17,"length2":16},{"diffs":[[0,"els)-10;"],[-1,"\r"],[0,"\n\t\t\t\t}el"]],"start1":4234,"start2":4234,"length1":17,"length2":16},{"diffs":[[0,";\n\t\t\t\t}else{"],[-1,"\r"],[0,"\n\t\t\t\t\tpixels"]],"start1":4241,"start2":4241,"length1":25,"length2":24},{"diffs":[[0,"+10;"],[-1,"\r"],[0,"\n\t\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":4284,"start2":4284,"length1":27,"length2":23},{"diffs":[[0,"ing step"],[-1,"\r"],[0,"\n\t\t\tvar "]],"start1":4334,"start2":4334,"length1":17,"length2":16},{"diffs":[[0,"lastI=0;"],[-1,"\r"],[0,"\n\t\t\tif(p"]],"start1":4354,"start2":4354,"length1":17,"length2":16},{"diffs":[[0,"ty=='left'){"],[-1,"\r"],[0,"\n\t\t\t\ti=Map.p"]],"start1":4375,"start2":4375,"length1":25,"length2":24},{"diffs":[[0,"rPos"],[1,"[uid]"],[0,".x;"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":4403,"start2":4403,"length1":12,"length2":16},{"diffs":[[0,"x;\n\t\t\t}else{"],[-1,"\r"],[0,"\n\t\t\t\ti=Map.p"]],"start1":4413,"start2":4413,"length1":25,"length2":24},{"diffs":[[0,"rPos"],[1,"[uid]"],[0,".y;"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":4441,"start2":4441,"length1":18,"length2":21},{"diffs":[[0,"\n\t\t\tlastI=i;"],[-1,"\r"],[0,"\n\t\t\twhile(tr"]],"start1":4458,"start2":4458,"length1":25,"length2":24},{"diffs":[[0,"rue)"],[-1,"\r"],[0,"\n\t\t\t{"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":4481,"start2":4481,"length1":15,"length2":13},{"diffs":[[0,"\t\t{\n\t\t\t\t$('#"],[-1,"myP"],[1,"p"],[0,"layer"],[-1," img'"],[1,"'+uid"],[0,").css(proper"]],"start1":4487,"start2":4487,"length1":37,"length2":35},{"diffs":[[0,"rty,i+'px');"],[-1,"\r"],[0,"\n\t\t\t\tvar col"]],"start1":4521,"start2":4521,"length1":25,"length2":24},{"diffs":[[0,"s=$("],[-1,"\"#myPlayer img\""],[1,"'#player'+uid"],[0,").co"]],"start1":4551,"start2":4551,"length1":23,"length2":21},{"diffs":[[0,"walk]');"],[-1,"\r"],[0,"\n\t\t\t\tif("]],"start1":4592,"start2":4592,"length1":17,"length2":16},{"diffs":[[0,"type"],[-1,"\r"],[0,"\n\t\t\t\t{"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":4665,"start2":4665,"length1":16,"length2":14},{"diffs":[[0,"ions[0],"],[-1,"\r"],[0,"\n\t\t\t\t\t\tn"]],"start1":4695,"start2":4695,"length1":17,"length2":16},{"diffs":[[0,"'name');"],[-1,"\r"],[0,"\n\t\t\t\t\t//"]],"start1":4727,"start2":4727,"length1":17,"length2":16},{"diffs":[[0,"s[itm]);"],[-1,"\r"],[0,"\n\t\t\t\t\t"],[-1,"\r"],[0,"\n\t\t\t\t\tif"]],"start1":4759,"start2":4759,"length1":24,"length2":22},{"diffs":[[0,"e=='solid'){"],[-1,"\r"],[0,"\n\t\t\t\t\t\t//con"]],"start1":4797,"start2":4797,"length1":25,"length2":24},{"diffs":[[0,"rPos.y);"],[-1,"\r"],[0,"\n\t\t\t\t\t\t$"]],"start1":4877,"start2":4877,"length1":17,"length2":16},{"diffs":[[0,";\n\t\t\t\t\t\t$('#"],[-1,"myP"],[1,"p"],[0,"layer"],[-1," img'"],[1,"'+uid"],[0,").css(proper"]],"start1":4884,"start2":4884,"length1":37,"length2":35},{"diffs":[[0,"lastI+'px');"],[-1,"\r"],[0,"\n\t\t\t\t\t\tif(pr"]],"start1":4922,"start2":4922,"length1":25,"length2":24},{"diffs":[[0,"ty=='left'){"],[-1,"\r"],[0,"\n\t\t\t\t\t\t\tMap."]],"start1":4950,"start2":4950,"length1":25,"length2":24},{"diffs":[[0,"layerPos"],[1,"[uid]"],[0,".x=lastI"]],"start1":4975,"start2":4975,"length1":16,"length2":21},{"diffs":[[0,"id].x=lastI;"],[-1,"\r"],[0,"\n\t\t\t\t\t\t}else"]],"start1":4985,"start2":4985,"length1":25,"length2":24},{"diffs":[[0,"\t\t\t\t\t\t}else{"],[-1,"\r"],[0,"\n\t\t\t\t\t\t\tMap."]],"start1":4998,"start2":4998,"length1":25,"length2":24},{"diffs":[[0,"layerPos"],[1,"[uid]"],[0,".y=lastI"]],"start1":5023,"start2":5023,"length1":16,"length2":21},{"diffs":[[0,"stI;"],[-1,"\r"],[0,"\n\t\t\t\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":5041,"start2":5041,"length1":18,"length2":16},{"diffs":[[0,"eturn false;"],[-1,"\r"],[0,"\n\t\t\t\t\t}else "]],"start1":5081,"start2":5081,"length1":25,"length2":24},{"diffs":[[0,"'teleport'){"],[-1,"\r"],[0,"\n\t\t\t\t\t\tvar t"]],"start1":5126,"start2":5126,"length1":25,"length2":24},{"diffs":[[0,".attr('to');"],[-1,"\r"],[0,"\n\t\t\t\t\t\tMap.c"]],"start1":5158,"start2":5158,"length1":25,"length2":24},{"diffs":[[0,"to);"],[-1,"\r"],[0,"\n\t\t\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t\t\t"],[-1,"\r"],[0,"\n\t\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":5192,"start2":5192,"length1":31,"length2":27},{"diffs":[[0,"(i==pixels){"],[-1,"\r"],[0,"\n\t\t\t\t\tbreak;"]],"start1":5222,"start2":5222,"length1":25,"length2":24},{"diffs":[[0,"\t\tbreak;"],[-1,"\r"],[0,"\n\t\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t\tlas"]],"start1":5238,"start2":5238,"length1":24,"length2":22},{"diffs":[[0,"lastI=i;"],[-1,"\r"],[0,"\n\t\t\t\tif("]],"start1":5257,"start2":5257,"length1":17,"length2":16},{"diffs":[[0,"pixels){"],[-1,"\r"],[0,"\n\t\t\t\t\ti-"]],"start1":5275,"start2":5275,"length1":17,"length2":16},{"diffs":[[0,"\t\t\t\ti--;"],[-1,"\r"],[0,"\n\t\t\t\t}el"]],"start1":5285,"start2":5285,"length1":17,"length2":16},{"diffs":[[0,";\n\t\t\t\t}else{"],[-1,"\r"],[0,"\n\t\t\t\t\ti++;\r\n"]],"start1":5292,"start2":5292,"length1":25,"length2":24},{"diffs":[[0,"i++;"],[-1,"\r"],[0,"\n\t\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t"],[-1,"//$('#myPlayer img').css(property,pixels+'px');\r\n\t\t\t\r"],[0,"\n\t\t\t"]],"start1":5310,"start2":5310,"length1":79,"length2":23},{"diffs":[[0," playerPos*/"],[-1,"\r"],[0,"\n\t\t\tif(prope"]],"start1":5342,"start2":5342,"length1":25,"length2":24},{"diffs":[[0,"'left'){"],[-1,"\r"],[0,"\n\t\t\t\tMap"]],"start1":5371,"start2":5371,"length1":17,"length2":16},{"diffs":[[0,"layerPos"],[1,"[uid]"],[0,".x=pixel"]],"start1":5389,"start2":5389,"length1":16,"length2":21},{"diffs":[[0,"d].x=pixels;"],[-1,"\r"],[0,"\n\t\t\t}else{\r\n"]],"start1":5400,"start2":5400,"length1":25,"length2":24},{"diffs":[[0,"s;\n\t\t\t}else{"],[-1,"\r"],[0,"\n\t\t\t\tMap.pla"]],"start1":5410,"start2":5410,"length1":25,"length2":24},{"diffs":[[0,"layerPos"],[1,"[uid]"],[0,".y=pixel"]],"start1":5432,"start2":5432,"length1":16,"length2":21},{"diffs":[[0,"els;"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r\n\r"],[1,"\n"],[0,"\n\t\t}"]],"start1":5451,"start2":5451,"length1":17,"length2":14},{"diffs":[[0,"\t\t}else{"],[-1,"\r"],[0,"\n\t\t\t"],[1,"if(this.debug){"],[0,"console."]],"start1":5462,"start2":5462,"length1":21,"length2":35},{"diffs":[[0," pos ('+"],[1,"uid+','+"],[0,"key+','+"]],"start1":5515,"start2":5515,"length1":16,"length2":24},{"diffs":[[0,"'+y+')')"],[1,"}"],[0,";"],[-1,"\r"],[0,"\n\t\t\t$('#"],[-1,"myP"],[1,"p"],[0,"layer"],[-1," img'"],[1,"'+uid"],[0,").css('t"]],"start1":5537,"start2":5537,"length1":39,"length2":37},{"diffs":[[0,",y);"],[-1,"\r"],[0,"\n\t\t\t$('#"],[-1,"myP"],[1,"p"],[0,"layer"],[-1," img'"],[1,"'+uid"],[0,").cs"]],"start1":5577,"start2":5577,"length1":30,"length2":27},{"diffs":[[0,"t',key);"],[-1,"\r"],[0,"\n\t\t\t"],[-1,"\r"],[0,"\n\t\t\t/* U"]],"start1":5610,"start2":5610,"length1":22,"length2":20},{"diffs":[[0,"yerPos*/"],[-1,"\r"],[0,"\n\t\t\tthis"]],"start1":5639,"start2":5639,"length1":17,"length2":16},{"diffs":[[0,"rPos"],[1,"[uid]"],[0,".y=y;"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":5661,"start2":5661,"length1":14,"length2":18},{"diffs":[[0,"rPos"],[1,"[uid]"],[0,".x=key;"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\t$('#"],[-1,"myP"],[1,"p"],[0,"layer"],[-1," img').attr('src','images/avatars/0'+avatar+'.png'"],[1,"'+uid).removeClass(this.playerPos[uid].skin+'-front');\n\t\t$('#player'+uid).removeClass(this.playerPos[uid].skin+'-left');\n\t\t$('#player'+uid).removeClass(this.playerPos[uid].skin+'-right');\n\t\t$('#player'+uid).removeClass(this.playerPos[uid].skin+'-back');\n\t\t$('#player'+uid).addClass(this.playerPos[uid].skin+'-'+avatar"],[0,");"],[-1,"\r"],[0,"\n\t},"],[-1,"\r"],[0,"\n\tad"]],"start1":5689,"start2":5689,"length1":98,"length2":363},{"diffs":[[0,"ion(obj)"],[-1,"\r"],[0,"\n\t{"],[-1,"\r"],[0,"\n\t\tif(ty"]],"start1":6063,"start2":6063,"length1":21,"length2":19},{"diffs":[[0,"undefined'){"],[-1,"\r"],[0,"\n\t\t\tthis.ite"]],"start1":6110,"start2":6110,"length1":25,"length2":24},{"diffs":[[0,"j.x]={};"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\tthis."]],"start1":6141,"start2":6141,"length1":22,"length2":20},{"diffs":[[0,"bj.name;"],[-1,"\r"],[0,"\n\t\tvar s"]],"start1":6184,"start2":6184,"length1":17,"length2":16},{"diffs":[[0,"r sprite='',"],[-1,"\r"],[0,"\n\t\t\tteleport"]],"start1":6197,"start2":6197,"length1":25,"length2":24},{"diffs":[[0,"port='',"],[-1,"\r"],[0,"\n\t\t\tprep"]],"start1":6217,"start2":6217,"length1":17,"length2":16},{"diffs":[[0,"d=false,"],[-1,"\r"],[0,"\n\t\t\ttext"]],"start1":6235,"start2":6235,"length1":17,"length2":16},{"diffs":[[0,"text='';"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\t//che"]],"start1":6247,"start2":6247,"length1":21,"length2":19},{"diffs":[[0,"t is set"],[-1,"\r"],[0,"\n\t\tif(ty"]],"start1":6277,"start2":6277,"length1":17,"length2":16},{"diffs":[[0,"undefined'){"],[-1,"\r"],[0,"\n\t\t\talert('n"]],"start1":6317,"start2":6317,"length1":25,"length2":24},{"diffs":[[0,"j.name);"],[-1,"\r"],[0,"\n\t\t\tMap."]],"start1":6370,"start2":6370,"length1":17,"length2":16},{"diffs":[[0,"Map.abort();"],[-1,"\r"],[0,"\n\t\t\treturn f"]],"start1":6382,"start2":6382,"length1":25,"length2":24},{"diffs":[[0,"n false;"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\tif(ty"]],"start1":6403,"start2":6403,"length1":22,"length2":20},{"diffs":[[0,"undefined'){"],[-1,"\r"],[0,"\n\t\t\tsprite=i"]],"start1":6454,"start2":6454,"length1":25,"length2":24},{"diffs":[[0,".sprite;"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\t//Spa"]],"start1":6492,"start2":6492,"length1":26,"length2":23},{"diffs":[[0,"t point?"],[-1,"\r"],[0,"\n\t\tif(it"]],"start1":6532,"start2":6532,"length1":17,"length2":16},{"diffs":[[0,"is.editing){"],[-1,"\r"],[0,"\n\t\t\tthis.mov"]],"start1":6609,"start2":6609,"length1":25,"length2":24},{"diffs":[[0,"ePlayer("],[1,"this.uid,"],[0,"obj.x,ob"]],"start1":6633,"start2":6633,"length1":16,"length2":25},{"diffs":[[0,",obj.y);"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\telse "]],"start1":6655,"start2":6655,"length1":22,"length2":20},{"diffs":[[0,"rt')"],[-1,"\r"],[0,"\n\t\t{\t"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":6707,"start2":6707,"length1":15,"length2":13},{"diffs":[[0,"undefined'){"],[-1,"\r"],[0,"\n\t\t\t\tthis.nu"]],"start1":6740,"start2":6740,"length1":25,"length2":24},{"diffs":[[0,"ports++;"],[-1,"\r"],[0,"\n\t\t\t\tobj"]],"start1":6769,"start2":6769,"length1":17,"length2":16},{"diffs":[[0,"leports;"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t\ttele"]],"start1":6799,"start2":6799,"length1":23,"length2":21},{"diffs":[[0,"id+'\" ';"],[-1,"\r"],[0,"\n\t\t\tif(t"]],"start1":6844,"start2":6844,"length1":17,"length2":16},{"diffs":[[0,"fined'){"],[-1,"\r"],[0,"\n\t\t\t\tif("]],"start1":6880,"start2":6880,"length1":17,"length2":16},{"diffs":[[0,"is.editing){"],[-1,"\r"],[0,"\n\t\t\t\t\talert("]],"start1":6899,"start2":6899,"length1":25,"length2":24},{"diffs":[[0,"pped.');"],[-1,"\r"],[0,"\n\t\t\t\t\tMa"]],"start1":6974,"start2":6974,"length1":17,"length2":16},{"diffs":[[0,"abort();"],[-1,"\r"],[0,"\n\t\t\t\t\tre"]],"start1":6992,"start2":6992,"length1":17,"length2":16},{"diffs":[[0,"n false;"],[-1,"\r"],[0,"\n\t\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t}els"]],"start1":7011,"start2":7011,"length1":24,"length2":22},{"diffs":[[0,"\t}\n\t\t\t}else{"],[-1,"\r"],[0,"\n\t\t\t\ttelepor"]],"start1":7023,"start2":7023,"length1":25,"length2":24},{"diffs":[[0,".to+'\"';"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t\tif(t"]],"start1":7060,"start2":7060,"length1":23,"length2":21},{"diffs":[[0,"d in map"],[-1,"\r"],[0,"\n\t\t\t\ttex"]],"start1":7111,"start2":7111,"length1":17,"length2":16},{"diffs":[[0,".id;"],[-1,"\r"],[0,"\n\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t"],[-1,"\r"],[0,"\n\t\t}"]],"start1":7132,"start2":7132,"length1":20,"length2":17},{"diffs":[[0,"'walk'){"],[-1,"\r"],[0,"\n\t\t\tprep"]],"start1":7179,"start2":7179,"length1":17,"length2":16},{"diffs":[[0,"rue;"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\t//--"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\tv"]],"start1":7200,"start2":7200,"length1":26,"length2":22},{"diffs":[[0,"/item>';"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\tif(pr"]],"start1":7407,"start2":7407,"length1":21,"length2":19},{"diffs":[[0,"repend){"],[-1,"\r"],[0,"\n\t\t\t$('#"]],"start1":7425,"start2":7425,"length1":17,"length2":16},{"diffs":[[0,"d(itemLine);"],[-1,"\r"],[0,"\n\t\t}else{\r\n\t"]],"start1":7460,"start2":7460,"length1":25,"length2":24},{"diffs":[[0,"e);\n\t\t}else{"],[-1,"\r"],[0,"\n\t\t\t$('#curr"]],"start1":7469,"start2":7469,"length1":25,"length2":24},{"diffs":[[0,"ne);"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t\t"],[-1,"\r"],[0,"\n\t\ti"]],"start1":7515,"start2":7515,"length1":18,"length2":15},{"diffs":[[0,"is.editing){"],[-1,"\r"],[0,"\n\t\t\t$(\"#curr"]],"start1":7534,"start2":7534,"length1":25,"length2":24},{"diffs":[[0,"true });"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t},"],[-1,"\r"],[0,"\n\taddIte"]],"start1":7649,"start2":7649,"length1":27,"length2":24},{"diffs":[[0,"on(arr){"],[-1,"\r"],[0,"\n\t\tfor(k"]],"start1":7682,"start2":7682,"length1":17,"length2":16},{"diffs":[[0,"in arr){"],[-1,"\r"],[0,"\n\t\t\tthis"]],"start1":7699,"start2":7699,"length1":17,"length2":16},{"diffs":[[0,"arr[k]);"],[-1,"\r"],[1,"\n\t\t}\n\t},\n\tdefaultPlayer:function(uid){\n\t\tif(typeof this.playerPos[uid] =='undefined'){\n\t\t\tthis.playerPos[uid]={\n\t\t\t\tx:0,\n\t\t\t\ty:0,\n\t\t\t\tuid:uid,\n\t\t\t\tskin:'lab_guy1',\n\t\t\t};\n\t\t}else if(typeof this.playerPos[this.uid].skin =='undefined'){\n\t\t\tthis.playerPos[this.uid].skin='lab_guy1';"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t},"],[-1,"\r"],[0,"\n\thotKey"]],"start1":7724,"start2":7724,"length1":27,"length2":302},{"diffs":[[0,"on(key){"],[-1,"\r"],[0,"\n\t\tswitc"]],"start1":8034,"start2":8034,"length1":17,"length2":16},{"diffs":[[0,"ch(key){"],[-1,"\r"],[0,"\n\t\t\tcase"]],"start1":8049,"start2":8049,"length1":17,"length2":16},{"diffs":[[0," X/M bag"],[-1,"\r"],[0,"\n\t\t\tcase"]],"start1":8072,"start2":8072,"length1":17,"length2":16},{"diffs":[[0,"case 77:"],[-1,"\r"],[0,"\n\t\t\t\tif("]],"start1":8084,"start2":8084,"length1":17,"length2":16},{"diffs":[[0,"ngth>0){"],[-1,"\r"],[0,"\n\t\t\t\t\t$("]],"start1":8117,"start2":8117,"length1":17,"length2":16},{"diffs":[[0,"culto');"],[-1,"\r"],[0,"\n\t\t\t\t}el"]],"start1":8160,"start2":8160,"length1":17,"length2":16},{"diffs":[[0,";\n\t\t\t\t}else{"],[-1,"\r"],[0,"\n\t\t\t\t\tvar ht"]],"start1":8167,"start2":8167,"length1":25,"length2":24},{"diffs":[[0,"\"><ul>'+"],[-1,"\r"],[0,"\n\t\t\t\t\t\t'"]],"start1":8320,"start2":8320,"length1":17,"length2":16},{"diffs":[[0,"i>Op1</li>'+"],[-1,"\r"],[0,"\n\t\t\t\t\t\t'<li>"]],"start1":8338,"start2":8338,"length1":25,"length2":24},{"diffs":[[0,"i>Op2</li>'+"],[-1,"\r"],[0,"\n\t\t\t\t\t\t'<li>"]],"start1":8360,"start2":8360,"length1":25,"length2":24},{"diffs":[[0,"i>Op3</li>'+"],[-1,"\r"],[0,"\n\t\t\t\t\t\t'<li>"]],"start1":8382,"start2":8382,"length1":25,"length2":24},{"diffs":[[0,"4</li>'+"],[-1,"\r"],[0,"\n\t\t\t\t\t'<"]],"start1":8408,"start2":8408,"length1":17,"length2":16},{"diffs":[[0,"/ul></div>';"],[-1,"\r"],[0,"\n\t\t\t\t\t$('bod"]],"start1":8424,"start2":8424,"length1":25,"length2":24},{"diffs":[[0,"ml);"],[-1,"\r"],[0,"\n\t\t\t\t}"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":8461,"start2":8461,"length1":16,"length2":14},{"diffs":[[0,"\t\tbreak;"],[-1,"\r"],[0,"\n\t\t\tcase"]],"start1":8473,"start2":8473,"length1":17,"length2":16},{"diffs":[[0,"7: //ESC"],[-1,"\r"],[0,"\n\t\t\tbrea"]],"start1":8491,"start2":8491,"length1":17,"length2":16},{"diffs":[[0,"\t\tbreak;"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t},"],[-1,"\r"],[0,"\n\tkillPl"]],"start1":8501,"start2":8501,"length1":27,"length2":24},{"diffs":[[0,"ion("],[1,"uid"],[0,"){"],[-1,"\r"],[0,"\n\t\t$('#"],[-1,"myP"],[1,"p"],[0,"layer'"],[1,"+uid"],[0,").re"]],"start1":8535,"start2":8535,"length1":27,"length2":31},{"diffs":[[0,"move();\t"],[-1,"\r"],[0,"\n\t},"],[-1,"\r"],[0,"\n\taddPla"]],"start1":8566,"start2":8566,"length1":22,"length2":20},{"diffs":[[0,"ion("],[1,"uid"],[0,")"],[-1,"\r"],[0,"\n\t{"],[-1,"\r"],[0,"\n\t\ti"]],"start1":8595,"start2":8595,"length1":14,"length2":15},{"diffs":[[0,"\t{\n\t\tif($('#"],[-1,"myP"],[1,"p"],[0,"layer'"],[1,"+uid"],[0,").length<1){"]],"start1":8604,"start2":8604,"length1":33,"length2":35},{"diffs":[[0,"ngth<1){"],[-1,"\r"],[1,"\n\t\t\tthis.defaultPlayer(uid);//check if has basic player schema"],[0,"\n\t\t\tvar "]],"start1":8631,"start2":8631,"length1":17,"length2":78},{"diffs":[[0,"div id=\""],[-1,"myP"],[1,"p"],[0,"layer"],[1,"'+uid+'"],[0,"\" class="]],"start1":8716,"start2":8716,"length1":24,"length2":29},{"diffs":[[0,"ss=\""],[-1,"player\">'+\r\n\t\t\t\t'<img style=\"z-index:2;position: absolute;\" src=\"images/avatars/0Down.png\"/>'+\r\n\t\t\t'"],[1,"mapSprite '+this.playerPos[uid].skin+' player\">"],[0,"</div>';"],[-1,"\r"],[0,"\n\t\t\t"]],"start1":8742,"start2":8742,"length1":117,"length2":63},{"diffs":[[0,"ml);"],[-1,"\t\r"],[0,"\n\t\t}"]],"start1":8833,"start2":8833,"length1":10,"length2":8},{"diffs":[[0,"\t\t}else{"],[-1,"\r"],[0,"\n\t\t\tretu"]],"start1":8838,"start2":8838,"length1":17,"length2":16},{"diffs":[[0,"n false;"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t},"],[-1,"\r"],[0,"\n\tabort:"]],"start1":8855,"start2":8855,"length1":27,"length2":24},{"diffs":[[0,"ction(){"],[-1,"\r"],[0,"\n\t\tif(!t"]],"start1":8882,"start2":8882,"length1":17,"length2":16},{"diffs":[[0,"diting){"],[-1,"\r"],[0,"\n\t\t\t$('#"]],"start1":8903,"start2":8903,"length1":17,"length2":16},{"diffs":[[0,"e();"],[-1,"\r"],[0,"\n\t\t}"],[-1,"\r"],[0,"\n\t},"],[-1,"\r\n\r"],[1,"\n"],[0,"\n}"],[-1,"\r"],[0,"\nfun"]],"start1":8939,"start2":8939,"length1":24,"length2":19},{"diffs":[[0,"ger(s) {"],[-1,"\r"],[0,"\n  retur"]],"start1":8970,"start2":8970,"length1":17,"length2":16},{"diffs":[[0," 0);"],[-1,"\r"],[0,"\n}"]],"start1":9025,"start2":9025,"length1":7,"length2":6}]],"length":9031,"saved":false}
